<html>
    <head>
<style>

body {
    font-size: 1.5em;
    font-family: Helvetica;
}

button,
textarea {
    padding: 0.25em;
    margin: 0.25em;
    font-size: 1em;
}

button {
    background-color: #1bc0ff;
    border: none;
    box-shadow: 4px 3px 10px 0px rgba(0,0,0,0.5);
}

#output {
    font-size: 1.5em;
    padding: 0.25em;
}

table {
    border-collapse: collapse;
    width: 100%;
}

td {
    border: 1px solid #ccc;
    padding: 0.25em;
}

button,
textarea {
    width: 100%;
}

</style>
    </head>
    <body>
        <textarea id="input"></textarea><br/>
        <button id="submitButton">Check Sentiment</button>
        <div id="output">
            <table>
                <thead>
                    <tr>
                        <th>Negative %</th>
                        <th>Neutral %</th>
                        <th>Positive %</th>
                        <th>Compound Score</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="neg-score">-</td>
                        <td id="neu-score">-</td>
                        <td id="pos-score">-</td>
                        <td id="compound-score">-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    <script>
var output = document.getElementById("output")
var input = document.getElementById("input")
var button = document.getElementById("submitButton")
button.onclick = function(e) {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/api/polarity')
    xhr.onload = function() {
        obj = {}
        try {
            obj = JSON.parse(xhr.responseText)
        } catch (e) {
            output.innerHTML = xhr.responseText
        }
        for (var i in obj) {
            document.querySelector("#" + i + "-score").innerText = obj[i]
        }
        
    }
    xhr.setRequestHeader("Content-Type", "application/json")
    xhr.send(JSON.stringify({content: input.value}))
}
    </script>
    </body>
</html>
